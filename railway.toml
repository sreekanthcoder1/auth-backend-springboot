[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
healthcheckPath = "/actuator/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[[deploy.environmentVariables]]
name = "SPRING_PROFILES_ACTIVE"
value = "mysql"

[[deploy.environmentVariables]]
name = "JWT_SECRET"
value = "RailwayProductionJWTSecret123456789012345678901234567890SECURE"

[[deploy.environmentVariables]]
name = "CORS_ORIGINS"
value = "https://*.railway.app,http://localhost:3000,http://localhost:5173"

[[deploy.environmentVariables]]
name = "DB_MAX_CONNECTIONS"
value = "20"

[[deploy.environmentVariables]]
name = "DB_MIN_CONNECTIONS"
value = "5"

[resources]
memory = "512Mi"
cpu = "0.5"
